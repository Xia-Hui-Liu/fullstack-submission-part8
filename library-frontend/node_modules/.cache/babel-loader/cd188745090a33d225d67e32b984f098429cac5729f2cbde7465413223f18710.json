{"ast":null,"code":"import { invariant } from '../../utilities/globals/index.js';\nexport function toPromise(observable) {\n  var completed = false;\n  return new Promise(function (resolve, reject) {\n    observable.subscribe({\n      next: function (data) {\n        if (completed) {\n          globalThis.__DEV__ !== false && invariant.warn(40);\n        } else {\n          completed = true;\n          resolve(data);\n        }\n      },\n      error: reject\n    });\n  });\n}","map":{"version":3,"mappings":"AAAA,SAASA,SAAS,QAAQ,kCAAkC;AAG5D,OAAM,SAAUC,SAAS,CAAIC,UAAyB;EACpD,IAAIC,SAAS,GAAG,KAAK;EACrB,OAAO,IAAIC,OAAO,CAAI,UAACC,OAAO,EAAEC,MAAM;IACpCJ,UAAU,CAACK,SAAS,CAAC;MACnBC,IAAI,EAAE,cAAI;QACR,IAAIL,SAAS,EAAE;UACbM,UAAU,QACR;SAEH,MAAM;UACLN,SAAS,GAAG,IAAI;UAChBE,OAAO,CAACK,IAAI,CAAC;;MAEjB,CAAC;MACDC,KAAK,EAAEL;KACR,CAAC;EACJ,CAAC,CAAC;AACJ","names":["invariant","toPromise","observable","completed","Promise","resolve","reject","subscribe","next","globalThis","data","error"],"sources":["/Users/xiahuiliu/Documents/fullstack-submission-part8/library-frontend/node_modules/@apollo/src/link/utils/toPromise.ts"],"sourcesContent":["import { invariant } from '../../utilities/globals/index.js';\nimport type { Observable } from '../../utilities/index.js';\n\nexport function toPromise<R>(observable: Observable<R>): Promise<R> {\n  let completed = false;\n  return new Promise<R>((resolve, reject) => {\n    observable.subscribe({\n      next: data => {\n        if (completed) {\n          invariant.warn(\n            `Promise Wrapper does not support multiple results from Observable`,\n          );\n        } else {\n          completed = true;\n          resolve(data);\n        }\n      },\n      error: reject,\n    });\n  });\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}